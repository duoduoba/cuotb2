<!--pages/done.wxml-->
<view class='container'>
  <view class='tag'>
    <view class="tag-title">选择科目</view>
  </view>
  <view class='tag'>
    <block wx:for="{{selected}}" wx:if="{{item.type=='科目'}}">
      <view class="tag-item" id="{{item.name}}" bindtap='kemuTap' style='background-color:{{item.bg}}'>{{item.name}}</view>
    </block>
    <view class="tag-item" style='border-style:dashed;'>
      <picker mode="selector" bindchange="bindPickerChange" value="{{index}}" range="{{unselected}}" range-key="{{'name'}}">
        +
      </picker>
    </view>
    
  </view>
  <view class='tag' style='display:{{zijian_display}}'>
    <view class="tag-title"> 自定义科目:</view>
    <input class="input_self" bindinput="bindKeyInput" value='科目名'></input>
    <view class="tag-title" id="自建科目" bindtap='kemuTap'>确认</view>
  </view>

  <view class='tag'>
    <view class="tag-title">掌握程度</view>
  </view>
  <view class='tag'>

    <block wx:for="{{selected}}" wx:if="{{item.type=='掌握'}}">
      <view class="tag-item" id="{{item.name}}" bindtap='kemuTap' style='background-color:{{item.bg}}'>{{item.name}}</view>
    </block>

  </view>
  <view class='tag'>
    <view class="tag-title">错题来源</view>
  </view>
  <view class='tag'>
    <block wx:for="{{selected}}" wx:if="{{item.type=='来源'}}">
      <view class="tag-item" id="{{item.name}}" bindtap='kemuTap' style='background-color:{{item.bg}}'>{{item.name}}</view>
    </block>
    <view class="tag-item" style='border-style:dashed;'>+</view>
  </view>
  <view class='tag'>
    <view class="tag-title">自定义标签</view>
  </view>
  <view class='tag'>
    <view class="tag-item">+</view>
  </view>
  <view class='timu'>
    <view class="timu-title ">题干</view>

    <canvas canvas-id="tigan_canvas" style='width: {{canvasW}}px; height: {{canvasH}}px;'></canvas>

    <view class="timu-title ">原图</view>
    <canvas canvas-id="yuantu_canvas" style='width: {{canvasW}}px; height: {{canvasH}}px;'></canvas>
  </view>
  <button type="primary" plain="false" bindtap="primary"> 保存 </button>
</view>